# sb-theme-switcher

–ê–¥–¥–æ–Ω –¥–ª—è Storybook, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–µ–º–∞–º–∏ —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π UI.

![Storybook 7](https://img.shields.io/badge/Storybook-7.x-ff4785?logo=storybook)
![Storybook 8](https://img.shields.io/badge/Storybook-8.x-ff4785?logo=storybook)
![Storybook 9](https://img.shields.io/badge/Storybook-9.x-ff4785?logo=storybook)
![Storybook 10](https://img.shields.io/badge/Storybook-10.x-ff4785?logo=storybook)
![npm version](https://img.shields.io/npm/v/sb-theme-switcher.svg)
![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)

[English](./README.md) | **–†—É—Å—Å–∫–∏–π**

## –ü–æ—á–µ–º—É sb-theme-switcher?

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç [storybook-dark-mode](https://github.com/hipstersmoothie/storybook-dark-mode), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–µ—Ç–ª—É—é/—Ç–µ–º–Ω—É—é —Ç–µ–º—É, **sb-theme-switcher** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

### üéØ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–µ–º–∞–º–∏**

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è UI**: –∫–Ω–æ–ø–∫–∞-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–ª—è 2 —Ç–µ–º, –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è 3+ —Ç–µ–º
- **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º**: –Ω–µ —Ç–æ–ª—å–∫–æ —Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è ‚Äî –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Ç–µ–º
- **–ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Storybook **–∏** –∫ iframe —Å –ø—Ä–µ–≤—å—é

### ‚ö° **–ù—É–ª–µ–≤–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

- **–ù–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã**: —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –±–µ–∑ –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è stories
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–µ–≤—å—é**: —Ç–µ–º–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –≤–∞—à–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è manager**: —Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Storybook –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### üé® **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å**

- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–∏ –∏–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã
- **–¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**: –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–º –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ
- **TypeScript First**: –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IntelliSense

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚ú® **–£–º–Ω—ã–π UI**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (2 —Ç–µ–º—ã) –∏–ª–∏ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ (3+ —Ç–µ–º—ã)  
üîÑ **–ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –∏–∑–º–µ–Ω—è–µ—Ç —Ç–µ–º—É **–∏** –≤ Storybook manager, **–∏** –≤ iframe –ø—Ä–µ–≤—å—é  
üé® **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 2, 3, 4 –∏ –±–æ–ª–µ–µ —Ç–µ–º  
üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–µ–º—É –≤ localStorage  
üì± **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏**: —Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞  
üìö **–†–µ–∂–∏–º Docs**: –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Canvas –∏ Docs  
üîß **TypeScript**: –ø–æ–ª–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤–∫–ª—é—á–µ–Ω—ã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install sb-theme-switcher
# –∏–ª–∏
yarn add sb-theme-switcher
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–µ–º—ã

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–º—ã Storybook (`.storybook/themes.ts`):

```typescript
import { create } from 'storybook/theming';

export const lightTheme = create({
  base: 'light',
  brandTitle: '–ú–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
  colorPrimary: '#167FFB'
  // ... –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏ —Ç–µ–º—ã
});

export const darkTheme = create({
  base: 'dark',
  brandTitle: '–ú–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
  colorPrimary: '#2A8CFF'
  // ... –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏ —Ç–µ–º—ã
});
```

### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∞–¥–¥–æ–Ω

–í `.storybook/main.ts`:

```typescript
import type { StorybookConfig } from 'storybook/internal/types';
import { lightTheme, darkTheme } from './themes';

const config: StorybookConfig = {
  addons: [
    // ... –¥—Ä—É–≥–∏–µ –∞–¥–¥–æ–Ω—ã
    {
      name: 'sb-theme-switcher',
      options: {
        themes: [
          {
            id: 'light',
            title: '–°–≤–µ—Ç–ª–∞—è',
            class: 'light-theme',
            color: '#ffffff',
            storybookTheme: lightTheme
          },
          {
            id: 'dark',
            title: '–¢–µ–º–Ω–∞—è',
            class: 'dark-theme',
            color: '#1a1a1a',
            storybookTheme: darkTheme
          }
        ],
        defaultTheme: 'light',
        storageKey: 'my-app-theme'
      }
    }
  ]
};

export default config;
```

### 3. –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É Docs (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í `.storybook/preview.tsx`:

```typescript
import { DocsContainer } from 'sb-theme-switcher';
import { lightTheme, darkTheme } from './themes';

const themes = [
  {
    id: 'light',
    title: '–°–≤–µ—Ç–ª–∞—è',
    class: 'light-theme',
    storybookTheme: lightTheme
  },
  {
    id: 'dark',
    title: '–¢–µ–º–Ω–∞—è',
    class: 'dark-theme',
    storybookTheme: darkTheme
  }
];

export const parameters = {
  docs: {
    container: props => <DocsContainer {...props} themes={themes} />
  }
};
```

### 4. –î–æ–±–∞–≤—å—Ç–µ CSS –¥–ª—è —Ç–µ–º

–í –≤–∞—à–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–º CSS (–Ω–∞–ø—Ä–∏–º–µ—Ä, `preview-head.html` –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π CSS —Ñ–∞–π–ª):

```css
[data-theme='light-theme'] {
  --background: #ffffff;
  --text-color: #000000;
  /* ... –≤–∞—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
}

[data-theme='dark-theme'] {
  --background: #1a1a1a;
  --text-color: #ffffff;
  /* ... –≤–∞—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
}
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –û–±—ä–µ–∫—Ç Theme

```typescript
interface Theme {
  id: string; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
  title: string; // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ
  class: string; // CSS –∫–ª–∞—Å—Å, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –∫ document.documentElement
  color?: string; // –¶–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ
  storybookTheme: object; // –û–±—ä–µ–∫—Ç —Ç–µ–º—ã Storybook
  icon?: string | React.ComponentType; // –ö–∞—Å—Ç–æ–º–Ω–∞—è –∏–∫–æ–Ω–∫–∞ (SVG —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
}
```

### –û–ø—Ü–∏–∏ –∞–¥–¥–æ–Ω–∞

```typescript
interface ThemeSwitcherOptions {
  themes: Theme[]; // –ú–∞—Å—Å–∏–≤ —Ç–µ–º (–º–∏–Ω–∏–º—É–º 2)
  defaultTheme?: string; // ID —Ç–µ–º—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  storageKey?: string; // –ö–ª—é—á localStorage (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 'sb-theme-switcher')
  icons?: Record<string, string | React.ComponentType>; // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Ç–µ–º
}
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –î–≤–µ —Ç–µ–º—ã (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å)

```typescript
{
  name: 'sb-theme-switcher',
  options: {
    themes: [
      {
        id: 'light',
        title: '–°–≤–µ—Ç–ª–∞—è',
        class: 'light-theme',
        storybookTheme: lightTheme
      },
      {
        id: 'dark',
        title: '–¢–µ–º–Ω–∞—è',
        class: 'dark-theme',
        storybookTheme: darkTheme
      }
    ]
  }
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–Ω–æ–ø–∫–∞-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å –∏–∫–æ–Ω–∫–∞–º–∏ —Å–æ–ª–Ω—Ü–∞/–ª—É–Ω—ã

### –ü—Ä–∏–º–µ—Ä 2: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ–º (–≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫)

```typescript
{
  name: 'sb-theme-switcher',
  options: {
    themes: [
      {
        id: 'light',
        title: '–°–≤–µ—Ç–ª–∞—è',
        class: 'light-theme',
        color: '#ffffff',
        storybookTheme: lightTheme
      },
      {
        id: 'dark',
        title: '–¢–µ–º–Ω–∞—è',
        class: 'dark-theme',
        color: '#1a1a1a',
        storybookTheme: darkTheme
      },
      {
        id: 'blue',
        title: '–°–∏–Ω—è—è',
        class: 'blue-theme',
        color: '#167FFB',
        storybookTheme: blueTheme
      }
    ],
    defaultTheme: 'light'
  }
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏

### –ü—Ä–∏–º–µ—Ä 3: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏

```typescript
{
  name: 'sb-theme-switcher',
  options: {
    themes: [
      {
        id: 'light',
        title: '–°–≤–µ—Ç–ª–∞—è',
        class: 'light-theme',
        storybookTheme: lightTheme,
        icon: '<svg>...</svg>' // –ö–∞—Å—Ç–æ–º–Ω–∞—è SVG —Å—Ç—Ä–æ–∫–∞
      },
      {
        id: 'dark',
        title: '–¢–µ–º–Ω–∞—è',
        class: 'dark-theme',
        storybookTheme: darkTheme,
        icon: MyCustomIcon // React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
      }
    ]
  }
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–º

–ö–æ–≥–¥–∞ –≤—ã –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç–µ —Ç–µ–º—ã, **sb-theme-switcher** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç:

1. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Storybook Manager** - –≤–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Storybook (–±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å, —Ç—É–ª–±–∞—Ä, –ø–∞–Ω–µ–ª–∏) –º–µ–Ω—è–µ—Ç —Ç–µ–º—É
2. **Iframe –ø—Ä–µ–≤—å—é** - –≤–∞—à–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –ø—Ä–µ–≤—å—é –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç `data-theme`
3. **–°—Ç—Ä–∞–Ω–∏—Ü—ã Docs** - —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–µ–º—É

–≠—Ç–æ **–≥–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ** –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—é—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–µ–≤—å—é –∏–ª–∏ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

1. **Manager UI**: –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É –≤ —Ç—É–ª–±–∞—Ä (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–ª—è 2 —Ç–µ–º) –∏–ª–∏ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ (–¥–ª—è 3+ —Ç–µ–º)
2. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã**:
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–µ–º—ã Storybook –∫ manager UI —á–µ—Ä–µ–∑ `addons.setConfig()`
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç `data-theme` –Ω–∞ `document.documentElement` iframe –ø—Ä–µ–≤—å—é
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç postMessage –≤ –ø—Ä–µ–≤—å—é –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–µ–º—É –≤ localStorage —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –∫–ª—é—á–æ–º
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏**: —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è storage –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docs**: –∫–∞—Å—Ç–æ–º–Ω—ã–π `DocsContainer` —Å `MutationObserver` –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–º—ã

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å storybook-dark-mode

| –§—É–Ω–∫—Ü–∏—è                  | sb-theme-switcher            | storybook-dark-mode        |
| ------------------------ | ---------------------------- | -------------------------- |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º           | –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ (2+)           | –¢–æ–ª—å–∫–æ 2 (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)  |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Manager UI | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è            | ‚ùå –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞        |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Preview    | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è            | ‚úÖ –ß–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä         |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Docs       | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è            | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏       |
| –ê–¥–∞–ø—Ç–∞—Ü–∏—è UI             | –£–º–Ω–∞—è (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å/—Å–ø–∏—Å–æ–∫) | –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å       |
| –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏         | ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã           | ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–æ               |
| –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã      | ‚úÖ –î–∞                        | ‚ùå –ù–µ—Ç                     |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏      | –ù–∏–∑–∫–∞—è (–æ–¥–∏–Ω –∫–æ–Ω—Ñ–∏–≥)         | –°—Ä–µ–¥–Ω—è—è (–Ω—É–∂–Ω—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã) |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Storybook 7-10 | ‚úÖ –î–∞                        | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è            |

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- **Storybook**: 7.x, 8.x, 9.x, 10.x
- **React**: 16.8+, 17.x, 18.x
- **TypeScript**: 5.x

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –¢–µ–º–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø—Ä–µ–≤—å—é

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å CSS –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ —Ç–µ–º:

```css
[data-theme='your-theme-class'] {
  /* –≤–∞—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã */
}
```

### –¢–µ–º–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `storageKey` —É–Ω–∏–∫–∞–ª–µ–Ω –∏ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –∫–ª—é—á–∞–º–∏ localStorage.

### Docs –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ `DocsContainer` –≤ `.storybook/preview.tsx` –∏ –ø–µ—Ä–µ–¥–∞–ª–∏ –ø—Ä–æ–ø `themes`.

## API Reference

### –≠–∫—Å–ø–æ—Ä—Ç—ã

```typescript
// –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
export { DocsContainer } from 'sb-theme-switcher';
export { useTheme } from 'sb-theme-switcher';
export { withTheme } from 'sb-theme-switcher';

// –¢–∏–ø—ã
export type { Theme, ThemeSwitcherOptions, StorybookTheme, ThemeState } from 'sb-theme-switcher';
```

### –•—É–∫ `useTheme()`

React —Ö—É–∫ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã –≤ –≤–∞—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

```typescript
import { useTheme } from 'sb-theme-switcher';

function MyComponent() {
  const theme = useTheme(); // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∫–ª–∞—Å—Å —Ç–µ–º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, 'dark-theme'
  return <div>–¢–µ–∫—É—â–∞—è —Ç–µ–º–∞: {theme}</div>;
}
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å storybook-dark-mode

–ü–µ—Ä–µ—Ö–æ–¥ —Å [storybook-dark-mode](https://github.com/hipstersmoothie/storybook-dark-mode) –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π:

### –ë—ã–ª–æ (storybook-dark-mode)

```typescript
// .storybook/preview.tsx
import { themes } from '@storybook/theming';

export const parameters = {
  darkMode: {
    dark: { ...themes.dark },
    light: { ...themes.light }
  }
};

// –ù—É–∂–Ω—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –ø—Ä–µ–≤—å—é
export const decorators = [withTheme];
```

### –°—Ç–∞–ª–æ (sb-theme-switcher)

```typescript
// .storybook/main.ts
import { lightTheme, darkTheme } from './themes';

export default {
  addons: [
    {
      name: 'sb-theme-switcher',
      options: {
        themes: [
          { id: 'light', title: '–°–≤–µ—Ç–ª–∞—è', class: 'light-theme', storybookTheme: lightTheme },
          { id: 'dark', title: '–¢–µ–º–Ω–∞—è', class: 'dark-theme', storybookTheme: darkTheme }
        ]
      }
    }
  ]
};

// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –Ω–µ –Ω—É–∂–Ω—ã! –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ù–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
- ‚úÖ –¢–µ–º–∞ Manager UI –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –¢–µ–º–∞ Preview –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –¢–µ–º–∞ Docs –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ 2 —Ç–µ–º –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ª—é–±—ã–µ –≤–∫–ª–∞–¥—ã! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ issue –∏–ª–∏ PR –Ω–∞ [GitHub](https://github.com/Naughty1905/sb-theme-switcher).

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ [storybook-dark-mode](https://github.com/hipstersmoothie/storybook-dark-mode) –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º –≤ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–µ–º.
